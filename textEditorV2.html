<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta
      name="viewport"
      content="width=device-width, initial-scale=1"
    />

    <!-- Bootstrap -->
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css"
      rel="stylesheet"
      integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC"
      crossorigin="anonymous"
    />
    <link
      rel="stylesheet"
      href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.8.1/font/bootstrap-icons.css"
    />

    <!-- SeldCSS-->
    <link
      rel="stylesheet"
      href="../scrollbar.css"
    />

    <!-- Title -->
    <title>Brother Maths - TextEditor</title>
    <!-- Firebase -->
    <script src="https://www.gstatic.com/firebasejs/8.10.1/firebase-app.js"></script>
    <script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-firestore.js"></script>
    <script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-auth.js"></script>
    <script src="https://www.gstatic.com/firebasejs/8.10.1/firebase-storage.js"></script>
    <!-- Firebase Config & Intitailze -->
    <script>
      // For Firebase JS SDK v7.20.0 and later, measurementId is optional
      const firebaseConfig = {
        apiKey:
          "AIzaSyAjq1lBaXKKsrREWHBRD9I6HWYnixGaDHY",
        authDomain: "appm-87da8.firebaseapp.com",
        projectId: "appm-87da8",
        storageBucket: "appm-87da8.appspot.com",
        messagingSenderId: "737891521283",
        appId:
          "1:737891521283:web:50f0956a00849e40314f36",
        measurementId: "G-CTZBC8X25J"
      };
      firebase.initializeApp(firebaseConfig);
      // This Value is used to check the page is it AuthPage only.
      IsAuthPage = true;
    </script>
    <!-- MATHJAX TESTING -->
    <script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
    <script
      id="MathJax-script"
      async
      src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"
    ></script>
    <!-- Self-Script (From root folder) -->
    <script defer src="fileUpload.js"></script>
    <script defer src="textEditorV2.js"></script>
  </head>
  <body>
    <!-- DisplayContent -->
    <div class="container-fluid">
      <div class="row">
        <div class="col-6 border text-middle">
          Input
        </div>
        <div class="col-6 border text-middle">
          Output
        </div>
      </div>
      <div class="row">
        <div class="col border">
          <div
            class="btn-group"
            style="width: '99vw';"
          >
            <button
              onclick="textStyle('bold');"
              type="button"
              class="btn btn-secondary"
              data-element="bold"
            >
              <i class="bi bi-type-bold"></i>
            </button>
            <button
              onclick='textStyle("italic");'
              type="button"
              class="btn btn-secondary"
              data-element="italic"
            >
              <i class="bi bi-type-italic"></i>
            </button>
            <button
              onclick="textStyle('underline');"
              type="button"
              class="btn btn-secondary"
              data-element="underline"
            >
              <i class="bi bi-type-underline"></i>
            </button>
            <button
              onclick="textStyle('insertUnorderedList');"
              type="button"
              class="btn btn-secondary"
              data-element="insertUnorderedList"
            >
              <i class="bi bi-list-ul"></i>
            </button>
            <button
              onclick="textStyle('insertOrderedList');"
              type="button"
              class="btn btn-secondary"
              data-element="insertOrderedList"
            >
              <i class="bi bi-list-ol"></i>
            </button>
            <button
              onclick="textStyle('insertLink');"
              type="button"
              class="btn btn-secondary"
              data-element="insertLink"
              href="#popup-link"
              data-bs-toggle="modal"
              data-bs-target="#popup-link"
            >
              <i class="bi bi-link"></i>
            </button>
            <button
              onclick="textStyle('justifyLeft');"
              type="button"
              class="btn btn-secondary"
              data-element="justifyLeft"
            >
              <i class="bi bi-text-left"></i>
            </button>
            <button
              onclick="textStyle('justifyCenter');"
              type="button"
              class="btn btn-secondary"
              data-element="justifyCenter"
            >
              <i class="bi bi-text-center"></i>
            </button>
            <button
              onclick="textStyle('justifyRight');"
              type="button"
              class="btn btn-secondary"
              data-element="justifyRight"
            >
              <i class="bi bi-text-right"></i>
            </button>
            <button
              onclick="textStyle('justifyFull');"
              type="button"
              class="btn btn-secondary"
              data-element="justifyFull"
            >
              <i class="bi bi-justify"></i>
            </button>
            <button
              onclick="textStyle('InsertImage');"
              type="button"
              class="btn btn-secondary"
              data-element="InsertImage"
              href="#popup-img"
              data-bs-toggle="modal"
              data-bs-target="#popup-img"
            >
              <i class="bi bi-image"></i>
            </button>
          </div>
        </div>
      </div>
      <div class="row">
        <div class="col-6 border">
          <textarea
            id="editorTextInput"
            class="form-control"
            style="
              font-size: 0.5rem;
              height: 90vh;
            "
          ></textarea>
        </div>
        <div class="col-6 border">
          <div class="card">
            <div
              class="card-body"
              id="displayTextOutput"
              contenteditable="true"
              style="height: 90vh;"
            ></div>
          </div>
        </div>
      </div>
    </div>

    <!-- POPUP -->
    <div
      class="modal fade"
      tabindex="-1"
      id="popup-link"
    >
      <div class="modal-dialog">
        <div class="modal-content">
          <div class="modal-header">
            <h5 class="modal-title">Add Link</h5>
            <button
              type="button"
              class="btn-close"
              data-bs-dismiss="modal"
              aria-label="Close"
            ></button>
          </div>
          <div class="modal-body">
            <p>Put your Text here:</p>
            <input
              class="form-control"
              id="popup-link-input2"
              type="text"
              value=" "
            />
            <p>Put your link here:</p>
            <input
              class="form-control"
              id="popup-link-input1"
              type="link"
              value="https://"
            />
          </div>
          <div class="modal-footer">
            <button
              type="button"
              class="btn btn-secondary"
              data-bs-dismiss="modal"
            >
              Close
            </button>
            <button
              type="button"
              class="btn btn-primary"
              onclick="addLink()"
              data-bs-dismiss="modal"
            >
              Add Link
            </button>
          </div>
        </div>
      </div>
    </div>

    <div
      class="modal fade"
      tabindex="-1"
      id="popup-img"
    >
      <div class="modal-dialog">
        <div class="modal-content">
          <div class="modal-header">
            <h5 class="modal-title">Add Image</h5>
            <button
              type="button"
              class="btn-close"
              data-bs-dismiss="modal"
              aria-label="Close"
            ></button>
          </div>
          <div class="modal-body">
            <p>Put your Image here:</p>
            <input
              class="form-control-file"
              id="popup-file-input"
              type="file"
            />
            <button
              class="btn btn-secondary"
              onclick="uploadFile(
              document.getElementById('popup-file-input').files[0], 'img', metadata);"
            >
              Upload</button
            ><br />
            <label
              class="text-muted"
              id="progressLabel"
              >110</label
            >
          </div>
          <div class="modal-footer">
            <button
              type="button"
              class="btn btn-secondary"
              data-bs-dismiss="modal"
            >
              Close
            </button>
            <button
              type="button"
              class="btn btn-primary"
              onclick="addImg()"
              data-bs-dismiss="modal"
            >
              Add Image
            </button>
          </div>
        </div>
      </div>
    </div>

    <!-- Bootstrap JS - Option 1: Bootstrap Bundle with Popper -->
    <script
      src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.bundle.min.js"
      integrity="sha384-MrcW6ZMFYlzcLA8Nl+NtUVF0sA7MsXsP1UyJoMp4YLEuNSfAP+JcXn/tWtIaxVXM"
      crossorigin="anonymous"
    ></script>
  </body>
</html>
